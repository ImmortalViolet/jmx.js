<!-- wm.html -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title> jmx.js - a Web-based Editor for JMeter's JMX file format</title>
	<script type="text/javascript" src="lib/template.js"></script>
	<script type="text/javascript" src="lib/viewfunctions.js"></script>
	<script type="text/javascript" src="lib/jmx.js"></script>
	<script type="text/javascript">

	var jmxDoc;

	function load () {
		JMX.init({"demo" : true});
		jmxDoc = JMX.loadAndEdit("editor", "sample/simpleplan.jmx.xml");
	}

	function loadSelection (sel) {
		var fileName = sel.options[sel.selectedIndex].value;
		jmxDoc = JMX.loadAndEdit("editor", "sample/" + fileName);
	}

	function save () {
		try{
			JMX.save("http://localhost:8888/test.jmx.xml",jmxDoc);	
		}catch(e){
			alert("Save didnt work most probably because jmx.js is in Demo mode intended for hosting on Github Pages. If this is your own hosted instance, please change config.json or the input to init().");
		}
	}
	</script>
	<link rel="stylesheet" type="text/css" href="res/jmx.js.css"></link>	
</head>
<body onload="load()">
	<div>
		<select onchange="loadSelection(this)">
			<option value="simpleplan.jmx.xml" selected>simpleplan</option>
			<option value="blank.jmx.xml">blank</option>
			<option value="jmxwithargs.jmx.xml">jmxwithargs</option>
		</select>
		<button onclick="save();">Save</button>
	</div>
	<div id="editor"></div>
</body>
</html>